!function(a,b){"object"==typeof exports&&exports?module.exports=b:"function"==typeof define&&define.amd?define(b):a.Mustache=b}(this,function(){function a(a,b){return s.call(a,b)}function b(b){return!a(o,b)}function c(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function d(a){return String(a).replace(/[&<>"'\/]/g,function(a){return v[a]})}function e(a){this.string=a,this.tail=a,this.pos=0}function f(a,b){this.view=a,this.parent=b,this._cache={}}function g(){this.clearCache()}function h(a,b,c,d){for(var e,f,g,i="",j=0,k=a.length;k>j;++j)switch(e=a[j],f=e[1],e[0]){case"#":if(g=c.lookup(f),"object"==typeof g)if(u(g))for(var m=0,n=g.length;n>m;++m)i+=h(e[4],b,c.push(g[m]),d);else g&&(i+=h(e[4],b,c.push(g),d));else if("function"==typeof g){var o=null==d?null:d.slice(e[3],e[5]);g=g.call(c.view,o,function(a){return b.render(a,c)}),null!=g&&(i+=g)}else g&&(i+=h(e[4],b,c,d));break;case"^":g=c.lookup(f),(!g||u(g)&&0===g.length)&&(i+=h(e[4],b,c,d));break;case">":g=b.getPartial(f),"function"==typeof g&&(i+=g(c));break;case"&":g=c.lookup(f),null!=g&&(i+=g);break;case"name":g=c.lookup(f),null!=g&&(i+=l.escape(g));break;case"text":i+=f}return i}function i(a){for(var b,c=[],d=c,e=[],f=0,g=a.length;g>f;++f)switch(b=a[f],b[0]){case"#":case"^":e.push(b),d.push(b),d=b[4]=[];break;case"/":var h=e.pop();h[5]=b[2],d=e.length>0?e[e.length-1][4]:c;break;default:d.push(b)}return c}function j(a){for(var b,c,d=[],e=0,f=a.length;f>e;++e)b=a[e],b&&("text"===b[0]&&c&&"text"===c[0]?(c[1]+=b[1],c[3]=b[3]):(c=b,d.push(b)));return d}function k(a){return[new RegExp(c(a[0])+"\\s*"),new RegExp("\\s*"+c(a[1]))]}var l={};l.name="mustache.js",l.version="0.7.2",l.tags=["{{","}}"],l.Scanner=e,l.Context=f,l.Writer=g;var m=/\s*/,n=/\s+/,o=/\S/,p=/\s*=/,q=/\s*\}/,r=/#|\^|\/|>|\{|&|=|!/,s=RegExp.prototype.test,t=Object.prototype.toString,u=Array.isArray||function(a){return"[object Array]"===t.call(a)},v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};l.escape=d,e.prototype.eos=function(){return""===this.tail},e.prototype.scan=function(a){var b=this.tail.match(a);return b&&0===b.index?(this.tail=this.tail.substring(b[0].length),this.pos+=b[0].length,b[0]):""},e.prototype.scanUntil=function(a){var b,c=this.tail.search(a);switch(c){case-1:b=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:b="";break;default:b=this.tail.substring(0,c),this.tail=this.tail.substring(c),this.pos+=c}return b},f.make=function(a){return a instanceof f?a:new f(a)},f.prototype.push=function(a){return new f(a,this)},f.prototype.lookup=function(a){var b=this._cache[a];if(!b){if("."==a)b=this.view;else for(var c=this;c;){if(a.indexOf(".")>0){b=c.view;for(var d=a.split("."),e=0;b&&e<d.length;)b=b[d[e++]]}else b=c.view[a];if(null!=b)break;c=c.parent}this._cache[a]=b}return"function"==typeof b&&(b=b.call(this.view)),b},g.prototype.clearCache=function(){this._cache={},this._partialCache={}},g.prototype.compile=function(a,b){var c=this._cache[a];if(!c){var d=l.parse(a,b);c=this._cache[a]=this.compileTokens(d,a)}return c},g.prototype.compilePartial=function(a,b,c){var d=this.compile(b,c);return this._partialCache[a]=d,d},g.prototype.getPartial=function(a){return a in this._partialCache||!this._loadPartial||this.compilePartial(a,this._loadPartial(a)),this._partialCache[a]},g.prototype.compileTokens=function(a,b){var c=this;return function(d,e){if(e)if("function"==typeof e)c._loadPartial=e;else for(var g in e)c.compilePartial(g,e[g]);return h(a,c,f.make(d),b)}},g.prototype.render=function(a,b,c){return this.compile(a)(b,c)},l.parse=function(a,d){function f(){if(z&&!A)for(;y.length;)delete x[y.pop()];else y=[];z=!1,A=!1}if(a=a||"",d=d||l.tags,"string"==typeof d&&(d=d.split(n)),2!==d.length)throw new Error("Invalid tags: "+d.join(", "));for(var g,h,o,s,t,u=k(d),v=new e(a),w=[],x=[],y=[],z=!1,A=!1;!v.eos();){if(g=v.pos,o=v.scanUntil(u[0]))for(var B=0,C=o.length;C>B;++B)s=o.charAt(B),b(s)?y.push(x.length):A=!0,x.push(["text",s,g,g+1]),g+=1,"\n"==s&&f();if(!v.scan(u[0]))break;if(z=!0,h=v.scan(r)||"name",v.scan(m),"="===h?(o=v.scanUntil(p),v.scan(p),v.scanUntil(u[1])):"{"===h?(o=v.scanUntil(new RegExp("\\s*"+c("}"+d[1]))),v.scan(q),v.scanUntil(u[1]),h="&"):o=v.scanUntil(u[1]),!v.scan(u[1]))throw new Error("Unclosed tag at "+v.pos);if(t=[h,o,g,v.pos],x.push(t),"#"===h||"^"===h)w.push(t);else if("/"===h){if(0===w.length)throw new Error('Unopened section "'+o+'" at '+g);var D=w.pop();if(D[1]!==o)throw new Error('Unclosed section "'+D[1]+'" at '+g)}else if("name"===h||"{"===h||"&"===h)A=!0;else if("="===h){if(d=o.split(n),2!==d.length)throw new Error("Invalid tags at "+g+": "+d.join(", "));u=k(d)}}var D=w.pop();if(D)throw new Error('Unclosed section "'+D[1]+'" at '+v.pos);return x=j(x),i(x)};var w=new g;return l.clearCache=function(){return w.clearCache()},l.compile=function(a,b){return w.compile(a,b)},l.compilePartial=function(a,b,c){return w.compilePartial(a,b,c)},l.compileTokens=function(a,b){return w.compileTokens(a,b)},l.render=function(a,b,c){return w.render(a,b,c)},l.to_html=function(a,b,c,d){var e=l.render(a,b,c);return"function"!=typeof d?e:(d(e),void 0)},l}()),!function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c),this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")}))},hide:function(b){b&&b.preventDefault(),b=a.Event("hide"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]===a.target||b.$element.has(a.target).length||b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b):b()):b&&b()}};var c=a.fn.modal;a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),"object"==typeof c&&c);e||d.data("modal",e=new b(this,f)),"string"==typeof c?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})})}(window.jQuery),window.EMBARRASSING_BODIES=function(a,b){"use_strict";return a.RISK_CHECKER=function(a,b,c){return b.MODEL=function(a,b,c,d){var e={},f={none:0,low:2,medium:5,high:10,xhigh:1e3},g=function(b){a.log("RISK_CHECKER.MODEL.Question initialising");var e=d.extend(!0,{},b);if(e.hasOwnProperty("question")||(e.question=c.isChecked()?e.question_checked:e.question_unchecked),e.id<1)e.progress=!1;else{var f=0;d.each(c.getQuestions(),function(){f+=1}),e.progress={current:h,total:f}}return e.getAnswer=function(b){if(a.log("RISK_CHECKER.MODEL.Question "+e.id+" attempting get answer: "+b),!e.answers.hasOwnProperty(b))throw new RangeError("Answer out of range: "+b);return e.answers[b]},e};c.getGender=function(){return e.hasOwnProperty(0)?e[0]:0},c.isChecked=function(){return e.hasOwnProperty(2)?!e[2]:!1};var h=1;c.setProgress=function(d){a.log("RISK_CHECKER.MODEL attempting to move to:"+h),d=parseInt(d,10),isNaN(d)&&(d=0);try{c.getQuestion(d)}catch(e){e instanceof RangeError&&(d=0)}d!==h&&(h=d,b.VIEW.renderQuestion(c.getQuestion()))},c.setFinished=function(){h="finished"},c.getProgress=function(){return h},c.getQuestions=function(){return qs=c.getGender()?d.extend(!0,{},i,k):d.extend(!0,{},i,j)},c.getQuestion=function(b){a.log("RISK_CHECKER.MODEL attempting get question: "+b),b=b||h;var d=c.getQuestions();if(!d.hasOwnProperty(b))throw new RangeError("Question out of range: "+b);return new g(d[b])},c.setAnswer=function(a){var b=c.getQuestion();d.each(e,function(a){a>=b.id&&delete e[a]}),e[b.id]=b.getAnswer(a).id},c.getScore=function(){a.log("RISK_CHECKER.MODEL calculating score.");var b=0;return d.each(e,function(a,d){b+=f[c.getQuestion(a).getAnswer(d).score]}),b},c.getRiskLevel=function(){var b,e=c.getScore();return a.log("RISK_CHECKER.MODEL calculating level."),d.each(l,function(c,d){return b=d,e<=d.score?(a.log("RISK_CHECKER.MODEL selected level "+d.level+" at score "+e),!1):void 0}),d.extend(!0,{},b)},c.getAnalytics=function(){return e.hasOwnProperty(0)&&e.hasOwnProperty(1)?"gen_"+e[0]+":rl_"+c.getRiskLevel().id+":age_"+e[1]:!1},c.init=function(){a.log("RISK_CHECKER.MODEL initialising."),h=null,c.setProgress(0)};var i={0:{id:0,why:["No identifiable personal data is collected when you complete the My RiskChecker questionnaire on this Website and your answers are completely anonymous. Channel 4 will use your answers to store information on your age bracket, gender and risk level, but this data will be anonymised and it will be impossible to identify individual respondents. This data may be used anonymously in the Embarrassing Bodies programme, website and/or social media accounts."],question:"Are you...",answers:[{id:0,text:"Male",score:"none",next:1},{id:1,text:"Female",score:"none",next:1}]},2:{id:2,question:"Have you ever received a clean bill of health following an STI (sexually transmitted infection) test administered by a medical professional?",why:["This question is needed to determine which subsequent questions are relevant to you."],answers:[{id:0,text:"Yes",score:"none",next:3},{id:1,text:"No",score:"none",next:3}]}},j={1:{id:1,question:"How old are you?",why:["No identifiable personal data is collected when you complete the My RiskChecker questionnaire on this Website and your answers are completely anonymous. Channel 4 will use your answers to store information on your age bracket, gender and risk level, but this data will be anonymised and it will be impossible to identify individual respondents. This data may be used anonymously in the Embarrassing Bodies programme, website and/or social media accounts."],answers:[{id:0,text:"13-15",score:"none",next:2},{id:1,text:"16-24",score:"none",next:2},{id:2,text:"25-34",score:"none",next:2},{id:3,text:"35-44",score:"none",next:2},{id:4,text:"45-59",score:"none",next:2},{id:5,text:"Over 60",score:"none",next:2}]},3:{id:3,question_checked:"Since your last clear STI test, have you had oral, vaginal or anal sexual contact with anyone?",question_unchecked:"Have you had oral, vaginal or anal sexual contact with anyone?",why:["This question is needed to determine which subsequent questions are relevant to you."],answers:[{id:0,text:"Yes",score:"none",next:4},{id:1,text:"No",score:"none",next:11}]},4:{id:4,question_checked:"Was all of the sexual contact since your last clear STI test part of a monogamous relationship, i.e. with  one exclusive partner?",question_unchecked:"Was all of the sexual contact part of a monogamous relationship, i.e. with  one exclusive partner?",why:["Your risk of having an STI is not eliminated, but it may be reduced, if all of your sexual activity has been within a monogamous relationship."],answers:[{id:0,text:"Yes",score:"none",next:5},{id:1,text:"No",score:"medium",next:6}]},5:{id:5,question:"Is your current relationship with another man, or a woman who has previously had sex with a gay or bisexual man?",why:["Although many lifestyle factors affect your STI risk, incidences of certain STIs are proportionally higher among sexually active homosexual men than the overall population at large. Certain sexual practices, such as anal sex, are more conductive to the transmission of STIs than others."],answers:[{id:0,text:"Yes",score:"high",next:8},{id:1,text:"No",score:"none",next:8}]},6:{id:6,question_checked:"Since your last clear STI test, have you had oral or anal sexual contact with another man?",question_unchecked:"Have you had oral or anal sexual contact with another man?",why:["Although many lifestyle factors affect your STI risk, incidences of certain STIs are proportionally higher among sexually active homosexual men than the overall population at large. Certain sexual practices, such as anal sex, are more conductive to the transmission of STIs than others."],answers:[{id:0,text:"Yes, multiple men",score:"high",next:7},{id:1,text:"Yes, just one man",score:"medium",next:7},{id:2,text:"No",score:"none",next:7}]},7:{id:7,question_checked:"Since your last clear STI test, have you had oral, anal or vaginal sexual contact with a woman?",question_unchecked:"Have you had oral, anal or vaginal sexual contact with a woman?",why:["Knowing about your sexual activity is essential in evaluating your STI risk level."],answers:[{id:0,text:"Yes, multiple women",score:"medium",next:8},{id:1,text:"Yes, just one woman",score:"low",next:8},{id:2,text:"No",score:"none",next:8}]},8:{id:8,question_checked:"Since your last clear STI test, have you always used condoms during oral, anal and vaginal sex?",question_unchecked:"Have you always used condoms during oral, anal and vaginal sex?",why:["Knowing about your attitude towards condoms and dental dams is essential in evaluating your STI risk level."],answers:[{id:0,text:"Yes, when having vaginal or anal sex, but not oral sex",score:"medium",next:9},{id:1,text:"Yes, when having oral, vaginal or anal sex",score:"none",next:9},{id:2,text:"No, I rarely or never use condoms",score:"high",next:9}]},9:{id:9,question_checked:"Since your last clear STI test, to the best of your knowledge have you had any sexual contact with a person who has been diagnosed with an STI, or was displaying STI-like symptoms? These symptoms could include:",question_unchecked:"To the best of your knowledge have you had any sexual contact with a person who has been diagnosed with an STI, or was displaying STI-like symptoms? These symptoms could include:",why:["If you have any sexual contact with somebody with any of these symptoms or a diagnosed STI, your risk level is increased."],list:["Discharge from the penis, anus or vagina","Lumps, sores or a rash in the genital area","Vaginal bleeding after sex"],answers:[{id:0,text:"Yes",score:"xhigh",next:10},{id:1,text:"No",score:"none",next:10}]},10:{id:10,question_checked:"Since your last clear STI test, to the best of your knowledge have you or anybody you've had sex with ever been a sex worker?",question_unchecked:"To the best of your knowledge have you or anybody you've had sex with ever been a sex worker?",why:["Being a sex worker yourself or engaging in sexual contact with a sex worker is a significant factor in assessing your STI risk level."],answers:[{id:0,text:"Yes",score:"xhigh",next:11},{id:1,text:"No",score:"none",next:11}]},11:{id:11,question_checked:"Since your last clear STI test, have you injected recreational drugs, or had any form of sexual contact with  somebody who has?",question_unchecked:"Have you injected recreational drugs, or had any form of sexual contact with  somebody who has?",why:["People who have injected any kind of recreational drug are at significantly increased risk. Sharing needles with other people significantly increases your risk of being infected with an STI."],answers:[{id:0,text:"Yes",score:"xhigh",next:12},{id:1,text:"Not sure",score:"medium",next:12},{id:2,text:"No",score:"none",next:12}]},12:{id:12,question:"Are you currently suffering any of the following symptoms?",why:["Any one of these symptoms is a significant indicator that an STI may be present."],list:["Discharge from the penis or anus","Burning when passing urine","Lumps or sores on the penis","A genital rash"],answers:[{id:0,text:"Yes",score:"xhigh",next:"end"},{id:1,text:"No",score:"none",next:"end"}]}},k={1:{id:1,question:"How old are you?",why:["Totally anonymised age, gender and risk level data is being collected for possible use in Embarrassing Bodies on TV and/or online. It will be impossible to identify any individual user, or to associate any data with any particular individual. The data is being collected to help indicate trends across the UK."],answers:[{id:0,text:"13-15",score:"none",next:2},{id:1,text:"16-24",score:"none",next:2},{id:2,text:"25-34",score:"none",next:2},{id:3,text:"35-44",score:"none",next:2},{id:4,text:"45-59",score:"none",next:2},{id:5,text:"Over 60",score:"none",next:2}]},3:{id:3,question_checked:"Since your last clear STI test, have you had oral, vaginal or anal sexual contact with anyone?",question_unchecked:"Have you had oral, vaginal or anal sexual contact with anyone?",why:["This question is needed to determine which subsequent questions are relevant to you."],answers:[{id:0,text:"Yes",score:"none",next:4},{id:1,text:"No",score:"none",next:12}]},4:{id:4,question_checked:"Was all of the sexual contact since your last clear STI test part of a monogamous relationship, i.e. with one exclusive partner?",question_unchecked:"Was all of the sexual contact part of a monogamous relationship, i.e. with one exclusive partner?",why:["Your risk of having an STI is not eliminated, but it may be reduced, if all of your sexual activity has been within a monogamous relationship."],answers:[{id:0,text:"Yes",score:"none",next:5},{id:1,text:"No",score:"medium",next:6}]},5:{id:5,question:"To the best of your knowledge, is your current relationship with a man who has previously had sex with other men, or a woman who has previously had sex with a gay or bisexual man?",why:["Although many lifestyle factors affect your STI risk, incidences of certain STIs are proportionally higher among sexually active homosexual men than the overall population at large. Certain sexual practices, such as anal sex, are more conductive to the transmission of STIs than others. "],answers:[{id:0,text:"Yes",score:"high",next:8},{id:1,text:"No",score:"none",next:8}]},6:{id:6,question_checked:"Since your last clear STI test, have you had unprotected (condomless) sexual contact with a gay or bisexual man?",question_unchecked:"Have you had unprotected (condomless) sexual contact with a gay or bisexual man?",why:["Although many lifestyle factors affect your STI risk, incidences of certain STIs are proportionally higher among sexually active homosexual men than the overall population at large. Certain sexual practices, such as anal sex, are more conductive to the transmission of STIs than others. "],answers:[{id:0,text:"Yes",score:"xhigh",next:7},{id:1,text:"Not sure",score:"medium",next:7},{id:2,text:"No",score:"none",next:7}]},7:{id:7,question_checked:"Since your last clear STI test, have you had unprotected (condomless) sexual contact with a straight man?",question_unchecked:"Have you had unprotected (condomless) sexual contact with a straight man?",why:["Condomless sexual contact with another person may significantly affect your STI risk level."],answers:[{id:0,text:"Yes",score:"high",next:8},{id:1,text:"No",score:"none",next:8}]},8:{id:8,question_checked:"Since your last clear STI test, have you always used a condom during sexual contact with a man, or a dental dam during sexual contact with a girl?",question_unchecked:"Have you always used a condom during sexual contact with a man, or a dental dam during sexual contact with a girl?",why:["Knowing about your attitude towards condoms and dental dams is essential in evaluating your STI risk level."],answers:[{id:0,text:"Yes, when having vaginal or anal sex, but not for oral sex",score:"medium",next:9},{id:1,text:"Yes, when having oral, vaginal or anal sex",score:"none",next:9},{id:2,text:"No, I rarely or never use condoms or dental dams",score:"high",next:9}]},9:{id:9,question_checked:"Since your last clear STI test, have you had unprotected genital-on-genital or oral-on-genital sexual contact, or shared sex toys, with anybody else?",question_unchecked:"Have you had unprotected genital-on-genital or oral-on-genital sexual contact, or shared sex toys, with anybody else?",why:["STIs can be spread through skin-to-skin contact or an exchange of bodily fluids. "],answers:[{id:0,text:"Yes",score:"high",next:10},{id:1,text:"No",score:"none",next:10}]},10:{id:10,question_checked:"Since your last clear STI test, to the best of your knowledge have you had any sexual contact with a person who has been diagnosed with an STI, or was displaying STI-like symptoms?  These symptoms could include:",question_unchecked:"To the best of your knowledge have you had any sexual contact with a person who has been diagnosed with an STI, or was displaying STI-like symptoms?  These symptoms could include:",why:["If you have any sexual contact with somebody with any of these symptoms or a diagnosed STI, your risk level is increased."],list:["Discharge from the penis, anus or vagina","Lumps, sores or a rash in the genital area","Vaginal bleeding after sex"],answers:[{id:0,text:"Yes",score:"xhigh",next:11},{id:1,text:"No",score:"none",next:11}]},11:{id:11,question_checked:"Since your last clear STI test, to the best of your knowledge have you or anybody you've had sex with ever been a sex worker?",question_unchecked:"To the best of your knowledge have you or anybody you've had sex with ever been a sex worker?",why:["Being a sex worker yourself or engaging in sexual contact with a sex worker is a significant factor in assessing your STI risk level."],answers:[{id:0,text:"Yes",score:"xhigh",next:12},{id:1,text:"No",score:"none",next:12}]},12:{id:12,question_checked:"Since your last clear STI test, have you injected recreational drugs, or had any form of sexual contact with somebody who has?",question_unchecked:"Have you injected recreational drugs, or had any form of sexual contact with somebody who has?",why:["People who have injected any kind of recreational drug are at significantly increased risk. Sharing needles with other people significantly increases your risk of being infected with an STI."],answers:[{id:0,text:"Yes",score:"xhigh",next:13},{id:1,text:"Not sure",score:"medium",next:13},{id:2,text:"No",score:"none",next:13}]},13:{id:13,question:"Are you currently suffering any of the following symptoms?",why:["Any one of these symptoms is a significant indicator that an STI may be present."],list:["Unusual vaginal discharge","Lumps or sores on the vagina","Bleeding after sex","Itching or discomfort of the vulva or vagina","Lower abdominal or pelvic pain during sex","Any kind of genital rash","Bleeding between periods","A burning sensation while urinating"],answers:[{id:0,text:"Yes",score:"xhigh",next:"end"},{id:1,text:"No",score:"none",next:"end"}]}},l=[{score:9,id:0,level:"Low",slug:"low",text:{main:["Based on your RiskChecker answers, it would appear that your risk of carrying a sexually transmitted infection (STI) is low. Well done on being generally responsible in your sexual behaviour. However, low risk doesn't mean no risk. It can't do any harm to get yourself along to a GUM clinic every now and then, particularly when you have a new sexual partner. You'll find details of how to locate a nearby clinic on the next screen. You can pick up some free condoms while you're there, and put them to good use. Keep practicing safe sex - after all, why dice with disease when there's no need to?","Remember, always reassess your risk level when you have a new sexual partner, and make sure you're both screened for STIs.","When you click the 'close test' button, all data related to your answers in the RiskChecker should delete automatically. However it's possible for your device to be set up to override these settings, so you may wish to manually clear your browsing data after use to be sure."],reduce_risk:["Condoms, condoms and more condoms. They're literally lifesavers, and significantly reduce your risk of contracting almost every STI out there. In some cases, the risk is virtually eliminated. Use condoms for vaginal, anal AND oral sex. And in case you needed any more reasons, steer clear of injecting recreational drugs."]}},{score:19,id:1,level:"Medium",slug:"medium",text:{main:["Based on your RiskChecker answers, there's a chance you could be currently infected with an STI (sexually transmitted infection). It would be a good move to use the GUM clinic finder on the next screen, visit your local clinic and get checked out. It won't hurt but it might save you from all kinds of unpleasant STIs, some of which could cause serious long-term health problems for you and your sexual partner(s). You can pick up some free condoms while you're there, and then it's just a matter of using them - every time.","While you seem to be generally responsible in your sexual behaviour, you can still do more to protect yourself. Why dice with disease when there's no need to? And remember to always reassess your risk level when you have a new sexual partner, and make sure you're both screened for STIs.","When you click the 'close test' button, all data related to the RiskChecker should delete automatically from your browsing history. However it's possible for your device to be set up to override these settings, so you may wish to manually clear your browsing data after use to be sure."],reduce_risk:["Condoms, condoms and more condoms. They're literally lifesavers, and significantly reduce your risk of contracting almost every STI out there. In some cases, the risk is virtually eliminated. Use condoms for vaginal, anal AND oral sex. And in case you needed any more reasons, steer clear of injecting recreational drugs."]}},{score:30,id:2,level:"High",slug:"high",text:{main:["Based on your RiskChecker answers, there's a strong chance you might have something unsavoury lurking in your genitals. On the next screen you can find your nearest GUM clinic, and you are strongly recommended to arrange a visit soon. Tests are quick, free and might make a huge difference to your health - and the health of your partner(s). You can pick up some free condoms while you're there, and then itâ€™s simply about using them - every time. Often sexually transmitted infections (STIs) display no outward signs, but that doesn't mean you're not infected. Get yourself checked, and you'll really need to be more careful in future","Remember, always reassess your risk level when you have a new sexual partner, and make sure you're both screened for STIs.","When you click the 'close test' button, all data related to your answers in the RiskChecker should delete automatically. However it's possible for your device to be set up to override these settings, so you may wish to manually clear your browsing data after use to be sure."],reduce_risk:["Condoms, condoms and more condoms. They're literally lifesavers, and significantly reduce your risk of contracting almost every STI out there. In some cases, the risk is virtually eliminated. Use condoms for vaginal, anal AND oral sex. And in case you needed any more reasons, steer clear of injecting recreational drugs."]}},{score:1e17,id:3,slug:"xhigh",level:"Very High",text:{main:["Based on your RiskChecker answers, there's a strong chance you could currently be infected with an STI (sexually transmitted infection).  You are strongly advised to go to the next screen and use the GUM clinic finder to locate a sexual health centre near you. Remember, STIs often display no outward signs, but that doesn't mean you're not infected. By not going to get tested you're risking long-term damage to your own health, as well as the health of your sexual partner(s). Go along for a test as soon as possible, and you really need to be more careful in future. You can pick up some free condoms while you're there - make sure you use them next time!","Remember, always reassess your risk level when you have a new sexual partner, and make sure you're both screened for STIs.","When you click the 'close test' button, all data related to your answers in the RiskChecker should delete automatically. However it's possible for your device to be set up to override these settings, so you may wish to manually clear your browsing data after use to be sure."],reduce_risk:["Condoms, condoms and more condoms. They're literally lifesavers, and significantly reduce your risk of contracting almost every STI out there. In some cases, the risk is virtually eliminated. Use condoms for vaginal, anal AND oral sex. And in case you needed any more reasons, steer clear of injecting recreational drugs."]}}];return c}(a,b,b.MODEL||{},c),b}(a,a.RISK_CHECKER||{},b),a}(window.EMBARRASSING_BODIES||{},window.jQuery),window.EMBARRASSING_BODIES=function(a,b){"use_strict";return window.EMBARRASSING_BODIES=function(a,b,c){return b.VIEW=function(a,b,c,d){var e,f="normal",g="",h={button:Mustache.compile('<button aria-labelledby="question-text" class="btn answer" data-answer="{{ id }}">{{ text }}</button>'),answer:Mustache.compile("<li>{{ &button }}</li>"),paragraph:Mustache.compile("<p>{{ text }}</p>"),reduce_risk:Mustache.compile('<div class="reduce_risk"><h2>How to Reduce Your Risk</h2>{{ &content }}</div>'),answers:Mustache.compile('<ul class="buttons two-column answers">{{ &answers }}</ul>'),progress:Mustache.compile('<div class="progress"><span class="progress-caption">Your progress:</span> {{ &status }}<ol aria-hidden="true">{{ &progress }}</ol></div>'),progress_status:Mustache.compile('<span class="hide">You are on step {{ current }} of {{ total }}</span>'),progress_item:Mustache.compile("<li>&bull;</li>"),progress_item_current:Mustache.compile('<li class="current"><span>&bull;</span></li>'),question:Mustache.compile('<h1 id="question-text" class="question medium-text" data-question="{{ id }}">{{ question }}</h1>'),question_list:Mustache.compile('<ul class="question-list">{{ &list }}</ul>'),question_text:Mustache.compile("<p>{{ text }}</p>"),question_list_item:Mustache.compile("<li>{{ item }}</li>"),question_why:Mustache.compile('<div class="why-asked"><a href="#" class="why-question">Why am I being asked this question?</a><div class="why-answer">{{ &answer }}</div></div>'),question_wrapper:Mustache.compile('<div class="question">{{ &question }}</div>'),finish:Mustache.compile('<h1 class="hide">Results</h1><p>Thanks for your answers. Now it\'s time to get your personalised STI Risk Report&hellip;</p><ul class="buttons"><li><a href="#result" class="btn btn-nav finish">My RiskChecker Report</a></li>'),risk_level:Mustache.compile('<div class="level-{{ slug }}"><div class="content"><h1>Risk Level: {{ level }}</h1>{{ &content }}<ul class="buttons"><li><a class="btn btn-nav" href="/resources.html">Close test and go to resources</a></li></ul></content></div>'),risk_level_bg_cache:Mustache.compile('<div class="risk-level"></div>')},i=d(".splash-screen"),j=1,k=function(){a.log("RISK_CHECKER.VIEW clearing splash screen."),i.is(":visible")&&(e=window.clearTimeout(e),i.fadeOut(f,function(){d(".post-splash").fadeIn(f,function(){i.remove(),d("#cache").html(h.risk_level_bg_cache())
})}))},l=function(){i.one("click",k),e=window.setTimeout(k,1e3*j)},m=function(c,e,g){a.log("RISK_CHECKER.VIEW transitioning content"),"function"!=typeof g?g=function(){}:"function"==typeof e&&(g=e,e=""),e=e||"",d("#cache").empty(),b.region.fadeOut(f,function(){d("#content").attr("class",e),b.region.html(c),a.INTERFACE.buttonHeights(),d(window).scrollTop(0),b.region.delay(125).fadeIn(f,g)})};return c.renderQuestion=function(b){a.log("RISK_CHECKER.VIEW rendering question: "+b.id);var c="",e="";if(b.progress){for(var f="",g=h.progress_status(b.progress),i=1;i<b.progress.total;i+=1)f+=i===b.progress.current?h.progress_item_current():h.progress_item();c+=h.progress({status:g,progress:f})}if(b.hasOwnProperty("paragraphs")&&d.each(b.paragraphs,function(a,b){c+=h.question_text({text:b})}),c+=h.question(b),b.hasOwnProperty("list")){var j="";d.each(b.list,function(a,b){j+=h.question_list_item({item:b})}),c+=h.question_list({list:j})}if(b.hasOwnProperty("why")){var k="";d.each(b.why,function(a,b){k+=h.paragraph({text:b})}),c+=h.question_why({answer:k})}d.each(b.answers,function(a,b){e+=h.answer({button:h.button(b)})}),c+=h.answers({answers:e}),c=h.question_wrapper({question:c}),m(c)},c.renderEnd=function(){m(h.finish())},c.renderRiskLevel=function(){a.log("RISK_CHECKER.VIEW rendering risk level");var c=d.extend(!0,{},b.MODEL.getRiskLevel());if(c.content="",d.each(c.text.main,function(a,b){c.content+=h.paragraph({text:b})}),c.text.hasOwnProperty("reduce_risk")){var e="";d.each(c.text.reduce_risk,function(a,b){e+=h.paragraph({text:b})}),c.content+=h.reduce_risk({content:e})}m(h.risk_level(c),"risk-level")},c.whyAnswer=function(a){a.fadeOut(f,function(){a.siblings(".why-answer").fadeIn(f)})},c.renderIntroduction=function(){m(g)},c.init=function(){a.log("RISK_CHECKER.VIEW initialising."),b.region.wrap(d("<div/>").css({"min-height":b.region.height()})),g=d("#introduction").outerHTML(),l()},c}(a,b,b.VIEW||{},c),b}(a,a.RISK_CHECKER||{},b),a}(window.EMBARRASSING_BODIES||{},window.jQuery),window.EMBARRASSING_BODIES=function(a,b){"use_strict";return a.RISK_CHECKER=function(a,b,c){return b.CONTROLLER=function(a,b,c,d){var e=function(c){a.log("RISK_CHECKER.CONTROLLER answer being handled."),c.preventDefault();var e=d(this).data("answer");b.MODEL.setAnswer(e);var f=b.MODEL.getQuestion().answers[e].next;"end"===f?(a.ANALYTICS.track("results",b.MODEL.getAnalytics()),window.location.hash="end"):window.location.hash="q-"+f},f=function(c){a.log("RISK_CHECKER.CONTROLLER starting questionnaire."),c.preventDefault(),b.MODEL.init(),window.location.hash="q-"+b.MODEL.getQuestion().id},g=function(){a.log("RISK_CHECKER.CONTROLLER hashchange being handled.");var c=window.location.hash;if(""===c)return b.VIEW.renderIntroduction(),void 0;if("#end"===c)return b.MODEL.setFinished(),b.VIEW.renderEnd(),void 0;if("#result"===c)return b.VIEW.renderRiskLevel(),void 0;var d=/^#q-(\d+)$/.exec(c);return null!==d?(0===parseInt(d[1],10)?b.MODEL.init():b.MODEL.setProgress(d[1]),void 0):void 0},h=function(){b.MODEL.setFinished(),window.location.hash="result"},i=function(a){a.preventDefault(),b.VIEW.whyAnswer(d(this))};return c.init=function(c){c=c||"risk_checker",b.region=d("#"+c),b.region.length&&(a.log("RISK_CHECKER.CONTROLLER initialising."),window.location.hash&&(window.location.hash=""),d(window).on("hashchange",g),b.region.on("click",".start",f),b.region.on("click",".answer",e),b.region.on("click",".finish",h),b.region.on("click",".why-question",i),b.VIEW.init())},c}(a,b,b.CONTROLLER||{},c),b}(a,a.RISK_CHECKER||{},b),a}(window.EMBARRASSING_BODIES||{},window.jQuery);